<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
   
<mapper namespace="com.jh.dao.IDao">
<!-- 로그인/회원가입 -->
	<insert id="MemberJoin">
		INSERT INTO join(email, name, pw) VALUES (#{param1}, #{param2}, #{param3})
	</insert>
	
	<insert id="ResearchJoin">
		INSERT INTO research(rnum, rname) VALUES (research_seq.nextval, #{param1})
	</insert>
	
	<select id="checkUserIdAndPw" resultType="int">
		select count(*) from join where email=#{param1} and pw=#{param2}
	</select>

<!-- 연구노트(프로젝트) -->
	<insert id="writeProject">
		INSERT INTO project(projectid, project, startdate, finishdate, team, leader, researcher) VALUES (project_seq.nextval,#{param1},#{param2},#{param3},#{param4},#{param5},#{param6})
	</insert>
	
	<select id="projectlist" resultType="com.jh.dto.ProjectDto">
		select * from project order by projectid desc
	</select>
	
<!-- 연구노트(보고서) -->	
	<insert id="writeReport">
		INSERT INTO report(rnum, title, contents, writer, rdate, rsign, leadercheck, cdate, csign) VALUES (report_seq.nextval,#{param1},#{param2},#{param3},#{param4},#{param5},#{param6},#{param7},#{param8})
	</insert>

	<select id="reportlist" resultType="com.jh.dto.ReportDto">
		select * from report order by rnum desc
	</select>
	
	<select id="reportView" resultType="com.jh.dto.ReportDto">
		select * from report where rnum=#{param1}
	</select>
	
	<update id="reportModify">
		UPDATE report SET title=#{param2}, contents=#{param3}, writer=#{param4}, rdate=#{param5}, rsign=#{param6}, leadercheck=#{param7}, cdate=#{param8}, csign=#{param9} WHERE rnum=#{param1}
	</update>
	
	<delete id="reportDelete">
		delete from report where rnum=#{param1} 
	</delete>
	
	


</mapper>